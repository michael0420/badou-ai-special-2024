# 边缘提取：

（1）什么是图像的边缘？
图像的边缘是指：图像局部区域亮度变化显著的部分，该区域的灰度剖面一般可以看作是一个阶跃，既从一个灰度值在很小的缓冲区内急剧变化到另一个灰度相差较大的灰度值。边缘有正负之分，就像导数有正值也有负值一样：由暗到亮为正，由亮到暗为负。

求边缘幅度的算法：sobel,prewitt,laplace,Canny算子。Canny算子的效果比其他的都要好，但是实现起来有点麻烦。

（2）什么是边缘提取//边缘检测？
边缘检测主要就是图像的灰度变化的度量，检测和定位。
（3）Sobel算子：
Sobel算子是典型的基于一阶导数的边缘检测算子，由于该算子中引入了类似局部平均的运算，因此对噪
声具有平滑作用，能很好的消除噪声的影响。Sobel算子对于像素的位置的影响做了加权，因此与Prewitt算子相比效果更好。
![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/b5d0239f-d9bb-42b2-9ed9-506a34a38882)
（4）Prewitt算子：
![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/03d5dcc0-ec87-4674-b266-b4b6bb041059)
**（5）Canny边缘检测算子：**
**Canny是目前最优秀的边缘检测算法之一，其目标为找到一个最优的边缘，其最优边缘的定义为：
1、好的检测：算法能够尽可能的标出图像中的实际边缘
2、好的定位：标识出的边缘要与实际图像中的边缘尽可能接近
3、最小响应：图像中的边缘只能标记一次**
![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/7afd2b02-2f54-4e14-b024-b863883dc1c1)
![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/d6f30fc4-1719-4f5f-9764-bd872e5de2b5)
![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/27b53aad-cd6b-420c-9518-496a95791102)
![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/38b23f69-2469-411a-9faa-029502b95560)
对于重叠的候选框，计算他们的重叠部分，若大于规定阈值，则删除；低于阈值则保留。对于无重叠的候选框，都保留。
通俗意义上是指寻找像素点局部最大值，将非极大值点所对应的灰度值置为0，这样可以剔除掉一大部分非边缘的点。
1) 将当前像素的梯度强度与沿正负梯度方向上的两个像素进行比较。
2) 如果当前像素的梯度强度与另外两个像素相比最大，则该像素点保留为边缘点，否则该像素点将被抑制（灰度值置为0）。


完成非极大值抑制后，会得到一个二值图像，非边缘的点灰度值均为0，可能为边缘的局部灰度极大值点可设置其灰度为128（或其他）。这样一个检测结果还是包含了很多由噪声及其他原因造成的假边缘。因此还需要进一步的处理。

**双阈值检测：**
• 如果边缘像素的梯度值高于高阈值，则将其标记为强边缘像素；
• 如果边缘像素的梯度值小于高阈值并且大于低阈值，则将其标记为弱边缘像素；
• 如果边缘像素的梯度值小于低阈值，则会被抑制。
大于高阈值为强边缘，小于低阈值不是边缘。介于中间是弱边缘。阈值的选择取决于给定输入图像的内容。

到目前为止，被划分为强边缘的像素点已经被确定为边缘，因为它们是从图像中的真实边缘中提取出来的。然而，对于弱边缘像素，将会有一些争论，因为这些像素可以从真实边缘提取也可以是因噪声或颜色变化引起的。
为了获得准确的结果，应该抑制由后者引起的弱边缘：
• 通常，由真实边缘引起的弱边缘像素将连接到强边缘像素，而噪声响应未连接。
• 为了跟踪边缘连接，通过查看弱边缘像素及其8个邻域像素，只要其中一个为强边缘像素，则该弱边缘点就可以保留为真实的边缘。


# 相机模型：


![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/261c0624-e6ff-4cda-87b1-3c9b7ea9caba)
针孔相机模型存在四个坐标系：世界坐标系、摄像机坐标系、图像物理坐标系和图像像素坐标系。
假设：
• 世界坐标系的坐标为Pw(Xw,Yw,Zw)，
• 对应的摄像机坐标系坐标为Po(x,y,z)，
• 对应的图像物理坐标系的坐标为P’(x’,y’)，
• 对应的图像像素坐标系的坐标为p(u,v)。
**世界坐标系：**是客观三维世界的绝对坐标系，也称客观坐标系。就是物体在真实世界中的坐标。世界坐标系是随着物体的大小和位置变化的，单位是长度单位。
**相机坐标系：**以相机的光心为坐标系的原点，以平行于图像的x和y方向为x轴和y轴，z轴和光轴平行，x，y，z互相垂直，单位是长度单位。
**图像物理坐标系：**以主光轴和图像平面交点为坐标原点，x'和y'方向如图所示，单位是长度单位。
**图像像素坐标系：**以图像的顶点为坐标原点，u和v方向平行于x'和y'方向，单位是以像素计。

![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/204ab9a7-8dce-4506-9149-d4d0747e1b1c)

![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/e3a456f5-0efe-4c13-ba3f-41519a7e9226)
![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/0d0b0f22-f389-47af-95d8-bb846b81b1ca)
![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/d53b1f40-e153-4b1f-9e24-9471710238b3)

![image](https://github.com/pengsuhua/badou-ai-special-2024/assets/116246948/5ff4696e-12d7-4169-9e1b-4266754d002b)


# 透视变换(Perspective Transformation)

透视变换是将图片投影到一个新的视平面(Viewing Plane)，也称作投影映射(Projective Mapping)。我们常说的仿射变换是透视变换的一个特例。
透视变换的目的就是把现实中为直线的物体，在图片上可能呈现为斜线，通过透视变换转换成直线的变换。仿射变换（Affine Transformation或 Affine Map），又称为仿射映射，是指在几何中，图像进行从一个向量空间进行一次线性变换和一次平移，变换为到另一个向量空间的过程。
